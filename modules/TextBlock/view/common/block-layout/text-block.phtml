<?php if($block->dataValue('text')):?>
<div class="section section--default text-only">
<?php else:?>
<div class="section section--default text-only" style="padding-bottom:20px;">
<?php endif?>
    <div class="container">
        <?php if($block->dataValue('title')):?>
          <h2 class="spacer"><?php echo $block->dataValue('title');?></h2>
        <?php endif;?>
        <?php if($block->dataValue('text') && !$block->dataValue('text2')):?>
          <div class="grid">
              <div class="grid__12 grid__8@med">
                  <span> <!-- content text must be in a wrapper if it's directly in a grid__item -->
                      <?php echo $block->dataValue('text');?>
                  </span>
              </div>
          </div>
        <?php endif;?>

        <?php if($block->dataValue('text') && $block->dataValue('text2')):?>
          <div class="grid grid grid--2-col@med">
              <div class="grid__item">
                  <span> <!-- content text must be in a wrapper if it's directly in a grid__item -->
                      <?php echo $block->dataValue('text');?>
                  </span>
              </div>
              <div class="grid__item">
                  <span> <!-- content text must be in a wrapper if it's directly in a grid__item -->
                      <?php echo $block->dataValue('text2');?>
                  </span>
              </div>
          </div>
        <?php endif;?>
    </div>
</div>

<script> 
$(document).ready(function () {
    $('.grid__item').each(function () {
        const $iframe = $(this).find('iframe');

        if ($iframe.length) {
            const src = $iframe.attr('src') || '';

            // Controleer op bekende videodiensten
            const isVideo = /youtube\.com|vimeo\.com|dailymotion\.com|wistia\.com|player\.twitch\.tv/.test(src);

            if (isVideo) {
                $iframe.removeAttr('style').css({
                    width: '100%',
                    height: '100%',
                    display: 'block'
                });
            }
        }
    });
});
</script>
